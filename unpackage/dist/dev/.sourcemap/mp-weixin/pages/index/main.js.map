{"version":3,"sources":["webpack:///E:/小程序学习/uniappWeather/pages/index/main.vue?51e4","webpack:///E:/小程序学习/uniappWeather/pages/index/main.vue?f60d","webpack:///E:/小程序学习/uniappWeather/pages/index/main.vue?3062","webpack:///E:/小程序学习/uniappWeather/pages/index/main.vue?3e3c","webpack:///E:/小程序学习/uniappWeather/pages/index/main.vue","webpack:///E:/小程序学习/uniappWeather/pages/index/main.vue?5f00","webpack:///E:/小程序学习/uniappWeather/pages/index/main.vue?1852","webpack:///E:/小程序学习/uniappWeather/pages/index/main.vue?8346","webpack:///E:/小程序学习/uniappWeather/pages/index/main.vue?6e78"],"names":["qqmapsdk","qqMap","key","dayaqi","lifeindex","result","listdata","wx","cloud","init","db","database","citylist","collection","data","region","twodateweather","dateweather","forecastlist","hourlist","showdrawer","options","text","style","backgroundColor","cityhistory","weathermsg","checkSession","components","uniDrawer","uniSwipeAction","uniPopup","onLoad","GetLocation","showLoading","title","onShareAppMessage","ops","from","console","log","target","path","success","res","JSON","stringify","shareTickets","fail","onPullDownRefresh","onShow","vuex","state","choosecity","province","getweather","getSetting","authSetting","methods","includes","getAuthorizeInfo","getLocationInfo","authorize","scope","getLocation","type","reverseGeocoder","location","latitude","longitude","address_component","city","district","err","position","id","split","length","then","statusCode","hideLoading","aqi","index","daily","slice","current_temperature","temp","current_condition","weather","wind_direction","winddirect","wind_level","windpower","quality_level","quality","background","aqiinfo","color","humidity","img","hourly","map","o","Object","assign","time","stopPullDownRefresh","get","some","add","_id","doc","update","res_id","gotodetail","navigateTo","url","totodydetail","pressure","ipm2_5","detail","tocitys","setTimeout","closedrawer","opendrawer","getStorageSync","$refs","popup","open","close"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+F;AACvC;AACL;AACqC;AACxB;;;AAGhE;AAC6J;AAC7J,gBAAgB,wKAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;ACxCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA0tB,CAAgB,yuBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoF9uB;AACA;;;;AAIA,4F,8FAzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA,IAAMA,QAAQ,GAAG,IAAIC,qBAAJ,CAAU,EACnBC,GAAG,EAAE,qCADc,CACwB;AADxB,CAAV,CAAjB,C,ojCAOA,IAAIC,MAAJ,CACA,IAAIC,SAAJ,CACA,IAAI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","file":"pages/index/main.js","sourcesContent":["import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=408647cb&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=408647cb&scoped=true&lang=css&\"\nimport style1 from \"./main.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"408647cb\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('408647cb', component.options)\n    } else {\n      api.reload('408647cb', component.options)\n    }\n    module.hot.accept(\"./main.vue?vue&type=template&id=408647cb&scoped=true&\", function () {\n      api.rerender('408647cb', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/小程序学习/uniappWeather/pages/index/main.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=template&id=408647cb&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.cityhistory, function(item, index) {\n    var g0 = item.data.city.split(\",\")\n    var g1 = item.data.city.split(\",\")\n    return {\n      $orig: _vm.__get_orig(item),\n      g0: g0,\n      g1: g1\n    }\n  })\n\n  var g2 = Object.values(_vm.dateweather)\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showdrawer = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        g2: g2\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport {request} from 'utils';\r\nimport qqMap from '../../static/js/qqmap-wx-jssdk.js';\r\nconst qqmapsdk = new qqMap({\r\n        key: 'N6JBZ-PVUCV-KJVPE-UYY2R-LZDHZ-DBFKL' //自己的key秘钥 http://lbs.qq.com/console/mykey.html 在这个网址申请\r\n      });\r\nimport vuex from '../../static/js/store.js';\r\nimport uniDrawer from \"@dcloudio/uni-ui/lib/uni-drawer/uni-drawer.vue\";\r\nimport {uniSwipeAction} from \"@dcloudio/uni-ui/lib/uni-swipe-action/uni-swipe-action.vue\";\r\nimport {uniPopup} from \"@dcloudio/uni-ui/lib/uni-popup/uni-popup.vue\"\r\nlet dayaqi;\r\nlet lifeindex;\r\nlet result;\r\n//初始化数据库\r\nlet listdata;\r\nwx.cloud.init();\r\nconst db = wx.cloud.database({});\r\nconst citylist = db.collection('citylist');\r\nexport default {\r\n  data () {\r\n    return {\r\n      region:null,\r\n      twodateweather:[],\r\n      // 今天天气信息\r\n      dateweather:{},\r\n      // 15天天气\r\n      forecastlist:[],\r\n      // 24小时天气\r\n      hourlist:[],\r\n\t  showdrawer:false,\r\n\t  options: [{\r\n\t      text: '取消',\r\n\t      style: {\r\n\t          backgroundColor: '#007aff'\r\n\t      }\r\n\t  }, {\r\n\t      text: '删除',\r\n\t      style: {\r\n\t          backgroundColor: '#dd524d'\r\n\t      }\r\n\t  }],\r\n\t  cityhistory:null,\r\n\t  weathermsg:true,\r\n\t  checkSession:false,\r\n    }\r\n  },\r\n  components:{\r\n\t  uniDrawer,uniSwipeAction,uniPopup\r\n  },\r\n  onLoad(){\r\n    this.GetLocation();\r\n\twx.showLoading({\r\n\t  title: '加载中',\r\n\t})\r\n  },\r\n  //转发分享\r\n  onShareAppMessage: function(ops) {\r\n    if (ops.from === \"button\") {\r\n      // 来自页面内转发按钮\r\n      console.log(ops.target);\r\n    }\r\n    return {\r\n      title: \"天气\",//这里是定义转发的标题\r\n      path: `pages/index/main`,//这里是定义转发的地址\r\n      success: function(res) {\r\n        // 转发成功\r\n        console.log(\"转发成功:\" + JSON.stringify(res));\r\n        var shareTickets = res.shareTickets;\r\n      },\r\n      fail: function(res) {\r\n        // 转发失败\r\n        console.log(\"转发失败:\" + JSON.stringify(res));\r\n      }\r\n    };\r\n  },\r\n  onPullDownRefresh () {\r\n\tthis.GetLocation();\r\n  },\r\n  onShow() {\r\n  \tif(!!vuex.state.choosecity){\r\n\t\tthis.region = vuex.state.choosecity.province;\r\n\t\tthis.getweather(vuex.state.choosecity.province);\r\n\t\tvuex.state.choosecity = '';\r\n\t}\r\n\twx.getSetting({\r\n\t  success: (res)=>{\r\n\t\tif (res.authSetting['scope.userInfo']) {\r\n\t\t\tthis.checkSession = true;\r\n\t\t}else{\r\n\t\t\tthis.checkSession = false;\r\n\t\t}\r\n\t  }\r\n\t})\r\n  },\r\n  methods: {\r\n\tGetLocation(){\r\n\t\twx.getSetting({\r\n\t\t\tsuccess:res=>{\t\t\t\r\n\t\t\t\tif (!JSON.stringify(res.authSetting).includes('scope.userLocation')) {  //3.1 每次进入程序判断当前是否获得授权，如果没有就去获得授权，如果获得授权，就直接获取当前地理位置\r\n\t\t\t\t\tthis.getAuthorizeInfo()\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.getLocationInfo()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tgetAuthorizeInfo(){  //1. uniapp弹窗弹出获取授权（地理，个人微信信息等授权信息）弹窗\r\n\t\twx.authorize({\r\n\t\t\tscope: \"scope.userLocation\",\r\n\t\t\tsuccess:res=>{ //1.1 允许授权\r\n\t\t\t\tthis.getLocationInfo();\r\n\t\t\t},\r\n\t\t\tfail(){    //1.2 拒绝授权\r\n\t\t\t\tconsole.log(\"你拒绝了授权，无法获得周边信息\")\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tgetLocationInfo(){  //2. 获取地理位置\r\n\t\twx.getLocation({\r\n\t\t\ttype: 'wgs84',\r\n\t\t\tsuccess:data=> {\r\n\t\t\t\tqqmapsdk.reverseGeocoder({\r\n\t\t\t\t  location: {\r\n\t\t\t\t    latitude: data.latitude,\r\n\t\t\t\t    longitude: data.longitude\r\n\t\t\t\t  },\r\n\t\t\t\t  success: (res) =>{\r\n\t\t\t\t\t   if(res.result.address_component.province==res.result.address_component.city)\r\n\t\t\t\t\t  \t\tthis.region = res.result.address_component.province+','+res.result.address_component.district;\r\n\t\t\t\t\t   else\r\n\t\t\t\t\t  \t\tthis.region = res.result.address_component.province+','+res.result.address_component.city+','+res.result.address_component.district;\r\n\t\t\t\t    this.getweather(this.region);\r\n\t\t\t\t  },\r\n\t\t\t\t  fail:  (err) => {\r\n\t\t\t\t    console.log(err);\r\n\t\t\t\t  }\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n    getweather(position,id){\r\n\t\trequest('https://jisutqybmf.market.alicloudapi.com/weather/query?city='+position.split(',')[position.split(',').length-1],{'Authorization':'APPCODE def0b8f2c0304cb59b0a7cdaa24dd000' })\r\n\t\t.then(res=>{\r\n\t\t\tif(res.statusCode!=200){\r\n\t\t\t\tthis.weathermsg = false;\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.weathermsg = true;\r\n\t\t\twx.hideLoading();\r\n\t\t\tresult =  res.data.result;\r\n\t\t\tdayaqi = result.aqi;\r\n\t\t\tlifeindex = result.index;\r\n\t\t\tthis.twodateweather= result.daily.slice(0,2)\r\n\t\t\tthis.dateweather={\r\n\t\t\t  current_temperature: result.temp,\r\n\t\t\t  current_condition: result.weather,\r\n\t\t\t  wind_direction: result.winddirect,\r\n\t\t\t  wind_level: result.windpower,\r\n\t\t\t  quality_level: result.aqi.quality,\r\n\t\t\t  aqi: result.aqi.aqi,\r\n\t\t\t  background:result.aqi.aqiinfo.color,\r\n\t\t\t  humidity:result.humidity,\r\n\t\t\t  img:result.img\r\n\t\t\t},\r\n\t\t\tthis.forecastlist = result.daily;\r\n\t\t\tthis.hourlist = result.hourly.map(o=>Object.assign({},{'condition': o.weather,'hour':o.time,'temperature':o.temp}))\r\n\t\t\twx.stopPullDownRefresh();\r\n\t\t\t//储存城市天气历史记录\r\n\t\t\tlistdata = {city:position,temp:result.temp,img:result.img};\r\n\t\t\tcitylist.get({\r\n\t\t\t    success:res=>{\r\n\t\t\t\t\t// 没有历史结果就保存,有历史结果就更新\r\n\t\t\t        if(!res.data.map(o=>o.data).some(o=>o.city==listdata.city)){\r\n\t\t\t            citylist.add({\r\n\t\t\t                data:{\r\n\t\t\t                    data:listdata\r\n\t\t\t                },\r\n\t\t\t                success: function(res) {\r\n\t\t\t                    console.log(res._id)\r\n\t\t\t                }\r\n\t\t\t            })\r\n\t\t\t        }\r\n\t\t\t\t\tif(!!id && !(!res.data.map(o=>o.data).some(o=>o.city==listdata.city))){\r\n\t\t\t\t\t\tcitylist.doc(id).update({\r\n\t\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t    data:listdata\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t\t\t\tconsole.log(res_id)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t    }\r\n\t\t\t})\r\n\t\t})\r\n    },\r\n    //去到详情页\r\n    gotodetail(index){\r\n\t\twx.navigateTo({\r\n\t\t\turl:'../../index/weatherdetail/main?data='+JSON.stringify(this.forecastlist)+'&lifeindex='+JSON.stringify(lifeindex)+'&index='+index\r\n\t\t})\r\n    },\r\n    totodydetail(){\r\n\t\tlet data = {\r\n\t\t\tweather:result.weather,\r\n\t\t\twinddirect:result.winddirect,\r\n\t\t\twindpower:result.windpower,\r\n\t\t\ttemp:result.temp,\r\n\t\t\tpressure:result.pressure,\r\n\t\t\thumidity:result.humidity,\r\n\t\t\tquality:result.aqi.quality,\r\n\t\t\tipm2_5:result.aqi.ipm2_5,\r\n\t\t\taqi:result.index[0].detail,\r\n\t\t\timg:result.img\r\n\t\t}\r\n\t\twx.navigateTo({\r\n\t\t\turl:'../../index/todydetail/main?data='+JSON.stringify(data)\r\n\t\t})\r\n    },\r\n\ttocitys(){\r\n\t\twx.navigateTo({\r\n\t\t\turl:'../../index/selectcitys/main'\r\n\t\t})\r\n\t\tsetTimeout(()=>{\r\n\t\t\tthis.showdrawer = false;\r\n\t\t},1000)\r\n\t},\r\n\tclosedrawer(data,id){\r\n\t\tthis.getweather(data,id);\r\n\t\tthis.region = data;\r\n\t\tthis.showdrawer = false;\r\n\t},\r\n\topendrawer(){\r\n\t\tif(!!this.checkSession && !!wx.getStorageSync('logingmsg')){\r\n\t\t\tthis.showdrawer = true;\r\n\t\t\tcitylist.get({\r\n\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\tthis.cityhistory = res.data;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tthis.$refs.popup.open();\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tthis.$refs.popup.close();\r\n\t\t\t},1000);\r\n\t\t}\r\n\t\t\r\n\t}\r\n  }\r\n}\r\n","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=style&index=0&id=408647cb&scoped=true&lang=css&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=style&index=0&id=408647cb&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=style&index=1&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}